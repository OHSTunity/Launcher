﻿<link rel="import" href="../../polymer/polymer.html" />
<link rel="import" href="../../iron-localstorage/iron-localstorage.html" />
<link rel="import" href="../../juicy-highlight/src/juicy-highlight.html" />
<link rel="import" href="../../juicy-popover/src/juicy-popover.html" />
<link rel="import" href="../../juicy-color-picker/src/juicy-color-picker.html" />
<link rel="import" href="./juicy-border-picker.html" />

<dom-module id="juicy-tile-simple-editor">
    <template>
        <style>
            :host {
                top: 0px;
                left: 0px;
                width: 100%;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                background-color: #596567;
                color: #b0b6b6;
                display: block;
                font: 15px Helvetica, arial, freesans, clean, sans-serif;
                line-height: 22.1px;
                position: fixed;
                z-index: 1;
                min-height: 100px;
            }

            .btn {
                background-color: #3e494c;
                color: white;
                border: none;
                padding: 8px 10px;
                border-radius: 8px;
                font-size: 15px;
                cursor: pointer;
                outline: none;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
            }

            .btn:hover {
                background-color: #3a3a3c;
            }

            .btn[disabled],
            .btn[disabled]:hover {
                color: #b0b6b6;
                background-color: #3e494c;
                cursor: not-allowed;
            }

            .editor-tabs {
                float: right;
                background-color: #3e494c;
                width: 100px;
                height: 115px;
            }

            .editor-tabs button {
                display: block;
                width: 100%;
                color: #b1b5b6;
                border: 3px solid #3e494c;
                border-right: none;
                cursor: pointer;
                outline: none;
                background-color: transparent;
                height: 21px;
                line-height: 12px;
            }

            .editor-tabs button:hover {
                color: white;
            }

            .editor-tabs button.btn-tab {
                background-color: #596567;
                height: 36px;
            }

            .editor-tabs button.active {
                border-color: #596567;
            }

            .editor-breadcrumb {
                background-color: #3e494c;
                padding: 2px 10px;
            }

            .editor-breadcrumb a {
                text-decoration: none;
                color: #b0b6b6;
                font-size: 13px;
            }

            .editor-breadcrumb a:hover {
                text-decoration: underline;
            }

            .editor-tree {
                position: fixed;
                height: calc(100vh - 115px);
                max-height: calc(100vh - 115px);
                right: 0px;
                width: 220px;
                top: 115px;
                background-color: #3e494c;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                padding: 0px;
                font-size: 13px;
                overflow: auto;
            }

            .editor-tree div.editor-tree-item {
                padding: 2px 10px;
                cursor: pointer;
            }

            .editor-tree div.editor-tree-item:hover {
                background-color: #444444;
            }

            .editor-tree div.editor-tree-item.selected {
                background-color: #01629E;
            }

            .editor-tree a {
                color: #4183c4;
                text-decoration: none;
            }

            .editor-tree a:hover {
                text-decoration: underline;
            }

            .editor-tree a.hidden-icon {
                width: 18px;
                height: 18px;
                float: right;
                background-image: url(images/eye.svg);
                background-size: 14px 14px;
                background-position: center center;
                background-repeat: no-repeat;
                margin-top: 1px;
            }

            juicy-popover div.popup {
                background-color: #596567;
                width: 120px;
                padding: 5px;
                border: 1px solid #414042;
            }
        </style>
        <style>
            .editor-simple-form {
                padding: 8px 0px 0px 15px;
                margin-right: 100px;
                height: 115px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                overflow: hidden;
            }

            .editor-simple-form .editor-form-section {
                float: left;
                margin-right: 20px;
            }

            .editor-simple-form .save-section {
                display: flex;
                flex-direction: column;
                width: 80px;
                padding: 10px 0px;
            }

            .editor-simple-form .save-section button {
                margin-bottom: 10px;
            }

            .editor-simple-form .media-section {
            }

            .editor-simple-form .media-section button.btn {
                background-color: transparent;
                background-position: center center;
                background-repeat: no-repeat;
                font-size: 10px;
                color: #b0b6b6;
                height: 85px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                padding-bottom: 5px;
                vertical-align: middle;
                padding-left: 0px;
                padding-right: 0px;
            }

            @media all and (-ms-high-contrast:none) {
                .editor-simple-form .media-section button.btn {
                    height: 95px;
                }
            }

            .editor-simple-form .media-section button.btn.active {
                color: white;
            }

            .editor-simple-form .media-section button.btn.iphone {
                background-image: url(images/iphone.svg);
                background-position: bottom center;
                background-size: 20px auto;
                width: 40px;
                padding-bottom: 20px;
                margin-left: -10px;
            }

            @media all and (-ms-high-contrast:none) {
                .editor-simple-form .media-section button.btn.iphone {
                    padding-bottom: 16px;
                    background-position: center 49px;
                }
            }

            .editor-simple-form .media-section button.btn.iphone.active {
                background-image: url(images/iphone-selected.svg);
            }

            .editor-simple-form .media-section button.btn.ipad {
                background-image: url(images/ipad.svg);
                background-position: bottom center;
                background-size: 40px auto;
                width: 40px;
                padding-bottom: 50px;
            }

            @media all and (-ms-high-contrast:none) {
                .editor-simple-form .media-section button.btn.ipad {
                    padding-bottom: 45px;
                    background-position: center 18px;
                }
            }

            .editor-simple-form .media-section button.btn.ipad.active {
                background-image: url(images/ipad-selected.svg);
            }

            .editor-simple-form .media-section button.btn.laptop {
                background-image: url(images/laptop.svg);
                background-position: bottom center;
                background-size: 90px auto;
                width: 90px;
            }

            @media all and (-ms-high-contrast:none) {
                .editor-simple-form .media-section button.btn.laptop {
                    background-position: center 16px;
                }
            }

            .editor-simple-form .media-section button.btn.laptop.active {
                background-image: url(images/laptop-selected.svg);
            }

            .editor-simple-form .media-section button.btn.screen {
                background-image: url(images/screen.svg);
                background-position: bottom center;
                background-size: 105px auto;
                width: 105px;
            }

            @media all and (-ms-high-contrast:none) {
                .editor-simple-form .media-section button.btn.screen {
                    background-position: center 16px;
                }
            }

            .editor-simple-form .media-section button.btn.screen.active {
                background-image: url(images/screen-selected.svg);
            }

            .editor-simple-form .width-section {
            }

            .editor-simple-form .width-section label {
                text-align: center;
                display: block;
                font-size: 15px;
                margin: 10px 0px 5px 0px;
            }

            .editor-simple-form .width-section .btn-group {
                overflow: visible;
                border-top: 4px dotted #787b80;
                border-bottom: 4px dotted #787b80;
                height: 35px;
            }

            .editor-simple-form .width-section .btn-group button.btn {
                border-right: 4px dotted #787b80;
                float: left;
                color: #afb5b5;
                background-color: transparent;
                border-radius: 0px;
                padding-top: 2px;
                padding-bottom: 4px;
                font-size: 11px;
                line-height: 12px;
                height: 35px;
            }

            .editor-simple-form .width-section .btn-group button.btn.active,
            .editor-simple-form .width-section .btn-group button.btn.active:first-child {
                background-color: #21b3cf;
                border: 4px solid #21b3cf;
                border-left: none;
                color: white;
                margin: -4px 0px;
                height: 43px;
            }

            .editor-simple-form .width-section .btn-group button.btn:first-child {
                border-left: 5px dotted #787b80;
            }

            .editor-simple-form .width-section .btn-group button.btn.active:first-child {
                border-left: 5px solid #21b3cf;
            }

            .editor-simple-form .width-section .btn-group button.btn span {
                display: block;
            }

            .editor-simple-form .width-section .btn-group button.btn span:first-child {
                border-bottom: 2px solid #afb5b5;
            }

            @media all and (-ms-high-contrast:none) {
                .editor-simple-form .width-section .btn-group button.btn span:first-child {
                    margin-bottom: 0.5px;
                }
            }

            .editor-simple-form .width-section .btn-group button.btn.active span:first-child {
                border-bottom: 2px solid white;
            }

            .editor-simple-form .position-section {
                padding-top: 38px;
            }

            .editor-simple-form .position-section .btn {
                border-radius: 0px;
                background-color: #3e494c;
                width: 40px;
                height: 40px;
                background-position: center center;
                background-repeat: no-repeat;
                background-size: 20px 20px;
            }

            .editor-simple-form .position-section .btn.btn-up,
            .editor-simple-form .position-section .btn.btn-up[disabled]:hover {
                background-image: url(images/arrow-up.svg);
            }

            .editor-simple-form .position-section .btn.btn-down,
            .editor-simple-form .position-section .btn.btn-down[disabled]:hover {
                background-image: url(images/arrow-down.svg);
            }

            .editor-simple-form .position-section .btn.btn-up:hover {
                background-image: url(images/arrow-up-selected.svg);
            }

            .editor-simple-form .position-section .btn.btn-down:hover {
                background-image: url(images/arrow-down-selected.svg);
            }

            .editor-simple-form .visible-section {
                padding-top: 37px;
            }

            .editor-simple-form .visible-section .btn {
                border-radius: 0px;
                background-color: transparent;
                width: 40px;
                height: 40px;
                background-position: center center;
                background-repeat: no-repeat;
                background-size: 35px 35px;
            }

            .editor-simple-form .visible-section .btn.btn-visible {
                background-image: url(images/eye-selected.svg);
            }

            .editor-simple-form .visible-section .btn.btn-hidden {
                background-image: url(images/eye.svg);
            }

            .editor-simple-form .align-section {
                width: 85px;
                height: 85px;
                margin-top: 10px;
                margin-right: 0px;
            }

            .editor-simple-form .align-section .btn {
                width: 26px;
                height: 26px;
                float: left;
                margin: 1px;
                border-radius: 0px;
            }

            .editor-simple-form .align-section .btn.active {
                background-color: #21b3cf;
            }
        </style>
        <style>
            .editor-expert-form {
                margin-top: 12px;
                padding: 1px 0px 0px 10px;
                margin-right: 100px;
                overflow: auto;
                height: 93px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                min-width: 1300px;
                overflow: hidden;
            }

            .editor-expert-form .btn-range,
            .editor-expert-form .btn-range[disabled]:hover {
                border: none;
                background-color: #3e494c;
                color: #b0b6b6;
                height: 18px;
                width: 18px;
                outline: none;
                cursor: pointer;
            }

            .editor-expert-form .btn-range:hover {
                background-color: #21b3cf;
                color: white;
            }

            .editor-expert-form .btn-range[disabled]:hover {
                cursor: not-allowed;
            }

            .editor-expert-form .editor-form-section {
                float: left;
                margin-right: 15px;
            }

            .editor-expert-form .save-section {
                display: flex;
                flex-direction: column;
                width: 70px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
            }

            .editor-expert-form .save-section button {
                margin-bottom: 6px;
                padding: 6px 5px;
                font-size: 12px;
                height: 26px;
                line-height: 14px;
            }

            @-moz-document url-prefix() {
                .editor-expert-form .save-section button {
                    font-size: 11px;
                    padding: 4px 5px 8px 5px;
                }
            }

            .editor-expert-form .save-section button:last-child {
                margin-bottom: 0px;
            }

            .editor-expert-form .media-section {
                width: 128px;
                margin-top: -2px;
                margin-right: 13px;
            }

            .editor-expert-form .media-section button.btn {
                background-color: transparent;
                background-position: center center;
                background-repeat: no-repeat;
                font-size: 9px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                background-color: #3e494c;
                color: white;
                border-radius: 0px;
                width: 60px;
                height: 43px;
                display: block;
                float: left;
                margin: 2px;
                background-size: auto 40px;
            }

            .editor-expert-form .media-section button.btn.active {
                background-color: #21b3cf;
            }

            .editor-expert-form .media-section button.btn.iphone {
                background-image: url(images/iphone.svg);
                background-position: 8px center;
                background-size: 15px auto;
                text-align: right;
                padding-right: 5px;
            }

            .editor-expert-form .media-section button.btn.iphone.active {
                background-image: url(images/iphone-selected.svg);
            }

            .editor-expert-form .media-section button.btn.ipad {
                background-image: url(images/ipad.svg);
                background-position: 3px center;
                background-size: 25px auto;
                text-align: right;
                padding-right: 2px;
            }

            .editor-expert-form .media-section button.btn.ipad.active {
                background-image: url(images/ipad-selected.svg);
            }

            .editor-expert-form .media-section button.btn.laptop {
                background-image: url(images/laptop.svg);
                background-position: center center;
                background-size: auto 30px;
            }

            .editor-expert-form .media-section button.btn.laptop.active {
                background-image: url(images/laptop-selected.svg);
            }

            .editor-expert-form .media-section button.btn.screen {
                background-image: url(images/screen.svg);
                background-position: center center;
                background-size: auto 32px;
            }

            .editor-expert-form .media-section button.btn.screen.active {
                background-image: url(images/screen-selected.svg);
            }

            .editor-expert-form .gutter-section {
                margin-top: 2px;
            }

            .editor-expert-form .gutter-section label {
                display: block;
                text-align: center;
                font-size: 11px;
            }

            .editor-expert-form .gutter-section .btn-group {
                padding: 3px 0px;
            }

            .editor-expert-form .gutter-section .gutter-border {
                border-top: 4px dotted #b0b6b6;
                padding: 0px;
                margin: 0px;
            }

            /* Need this hack because FF starts dotted border before the container starts, and ends before the container ends. */
            @-moz-document url-prefix() {
                .editor-expert-form .gutter-section .gutter-border {
                    margin-right: -2px;
                }
            }

            .editor-expert-form .gutter-section input {
                border: 1px solid #b0b6b6;
                padding: 2px 4px;
                width: 35px;
                height: 18px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
            }

            .editor-expert-form .width-section {
                margin-top: 2px;
                margin-bottom: 4px;
            }

            .editor-expert-form .width-section label {
                text-align: center;
                display: block;
                font-size: 11px;
            }

            .editor-expert-form .width-section .btn-group {
                overflow: visible;
                border-top: 1px dotted #787b80;
                border-bottom: 1px dotted #787b80;
                height: 25px;
                display: inline-block;
            }

            .editor-expert-form .width-section .btn-group button.btn {
                border-right: 1px dotted #787b80;
                float: left;
                color: #afb5b5;
                background-color: transparent;
                border-radius: 0px;
                padding: 0px 1.5px;
                height: 25px;
                width: 23px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                overflow: hidden;
                font-size: 10px;
                line-height: 11px;
            }

            .editor-expert-form .width-section .btn-group button.btn.active,
            .editor-expert-form .width-section .btn-group button.btn.active:first-child {
                background-color: #21b3cf;
                border: 1px solid #21b3cf;
                border-left: none;
                color: white;
                margin: -1px 0px;
                height: 27px;
            }

            .editor-expert-form .width-section .btn-group button.btn:first-child {
                border-left: 1px dotted #787b80;
            }

            .editor-expert-form .width-section .btn-group button.btn.active:first-child {
                border-left: 1px solid #21b3cf;
            }

            .editor-expert-form .width-section .btn-group button.btn span {
                display: block;
                text-align: center;
            }

            .editor-expert-form .width-section .btn-group button.btn span:first-child {
                border-bottom: 1px solid #afb5b5;
                margin-top: -1px;
            }

            .editor-expert-form .width-section .btn-group button.btn.active span:first-child {
                border-bottom: 1px solid white;
            }

            .editor-expert-form .position-section {
                float: left;
                margin-right: 15px;
                margin-left: 2px;
            }

            .editor-expert-form .position-section .btn {
                border-radius: 0px;
                background-color: #3e494c;
                width: 30px;
                height: 30px;
                background-position: center center;
                background-repeat: no-repeat;
                background-size: 15px 15px;
            }

            .editor-expert-form .position-section .btn.btn-up,
            .editor-expert-form .position-section .btn.btn-up[disabled]:hover {
                background-image: url(images/arrow-up.svg);
            }

            .editor-expert-form .position-section .btn.btn-down,
            .editor-expert-form .position-section .btn.btn-down[disabled]:hover {
                background-image: url(images/arrow-down.svg);
            }

            .editor-expert-form .position-section .btn.btn-up:hover {
                background-image: url(images/arrow-up-selected.svg);
            }

            .editor-expert-form .position-section .btn.btn-down:hover {
                background-image: url(images/arrow-down-selected.svg);
            }

            .editor-expert-form .group-section {
                float: left;
                margin-right: 10px;
                margin-top: 3px;
            }

            .editor-expert-form .group-section .btn {
                padding: 6px 15px;
                font-size: 12px;
                height: 26px;
                line-height: 14px;
            }

            @-moz-document url-prefix() {
                .editor-expert-form .group-section .btn {
                    padding: 4px 10px 8px 10px;
                }
            }

            .editor-expert-form .group-section .btn-group {
                display: flex;
                float: left;
                margin-right: 10px;
            }

            .editor-expert-form .group-section .btn-group .btn.btn-left {
                border-radius: 8px 0px 0px 8px;
                padding-right: 8px;
            }

            .editor-expert-form .group-section .btn-group .btn.btn-right {
                border-radius: 0px 8px 8px 0px;
                padding-left: 8px;
                background-image: url(images/arrow-down.svg);
                background-size: 10px 10px;
                background-position: center center;
                background-repeat: no-repeat;
            }

            .editor-expert-form .group-section .popup {
                white-space: nowrap;
            }

            .editor-expert-form .group-section .popup button {
                text-decoration: none;
                color: #b0b6b6;
                font-size: 13px;
                display: block;
                background-color: transparent;
                border: none;
                padding: 0px;
                line-height: 24px;
                cursor: pointer;
                outline: none;
            }

            .editor-expert-form .group-section .popup button:hover {
                color: white;
            }

            .editor-expert-form .group-section .popup button[disabled],
            .editor-expert-form .group-section .popup button[disabled]:hover {
                cursor: not-allowed;
                color: #3e494c;
            }

            .editor-expert-form .visible-section {
                float: left;
            }

            .editor-expert-form .visible-section .btn {
                border-radius: 0px;
                background-color: transparent;
                width: 40px;
                height: 30px;
                background-position: center center;
                background-repeat: no-repeat;
                background-size: 28px auto;
            }

            .editor-expert-form .visible-section .btn.btn-visible {
                background-image: url(images/eye-selected.svg);
            }

            .editor-expert-form .visible-section .btn.btn-hidden {
                background-image: url(images/eye.svg);
            }

            .editor-expert-form .dimension-section {
                display: flex;
                flex-direction: row;
                margin-top: 5px;
            }

            .editor-expert-form .dimension-section:first-child {
                margin-top: 22px;
            }

            .editor-expert-form .dimension-section label.section-title {
                text-transform: uppercase;
                font-size: 12px;
                margin-right: 5px;
                margin-top: 6px;
                width: 45px;
                display: block;
                text-align: right;
            }

            .editor-expert-form .dimension-section .control-group {
                display: flex;
                flex-direction: row;
                padding: 4px 3px;
                border-radius: 4px;
                background-color: #3e494c;
                height: 24px;
            }

            .editor-expert-form .dimension-section input {
                width: 40px;
                margin-right: 3px;
                border: none;
                background-color: #3e494c;
                color: white;
                font-size: 12px;
                padding-left: 5px;
                flex: auto;
            }

            .editor-expert-form .dimension-section .btn-range {
                height: 25px;
                width: 25px;
                background-color: #384041;
                padding: 1px 3px;
                border-radius: 2px;
                margin: 0px 2px;
                line-height: 21px;
            }

            .editor-expert-form .dimension-section .btn-range:hover {
                background-color: #21b3cf;
            }

            .editor-expert-form .dimension-section label.checkbox {
            }

            .editor-expert-form .dimension-section label.checkbox input {
                display: none;
            }

            .editor-expert-form .dimension-section label.checkbox span {
                display: block;
                background-color: #384041;
                color: white;
                font-size: 10px;
                text-align: center;
                line-height: 11px;
                padding: 1px 3px 2px 3px;
                border-radius: 2px;
                margin: 0px 3px;
                cursor: pointer;
            }

            .editor-expert-form .dimension-section label.checkbox input[checked] + span {
                background-color: #21b3cf;
            }

            .editor-expert-form .dimension-section label.checkbox input:checked + span {
                background-color: #21b3cf;
            }

            .editor-expert-form .dimension-section label.checkbox input[disabled] + span {
                cursor: not-allowed;
                color: #b0b6b6;
            }

            .editor-expert-form .outline-section {
                background-color: black;
                width: 91px;
                height: 91px;
                text-align: center;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                padding: 8px;
            }

            .editor-expert-form .outline-section button.btn {
                padding: 0px;
                background-color: transparent;
                margin: 0px;
                border: none;
                color: inherit;
                font-size: 12px;
            }

            .editor-expert-form .fill-section {
                background-color: white;
                color: black;
                width: 35px;
                height: 25px;
                margin: auto;
                margin-top: 5px;
            }

            .editor-expert-form .fill-section button.btn {
            }

            .editor-expert-form .tight-direction-html-source-section {
                overflow: auto;
                width: 130px;
                height: 91px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                background-color: #3e494c;
                padding: 9px;
                min-height: 0px;
            }

            .editor-expert-form .tight-section,
            .editor-expert-form .direction-section,
            .editor-expert-form .html-section,
            .editor-expert-form .source-section {
                width: 50px;
                height: 30px;
                float: left;
                margin: 3px;
                overflow: hidden;
            }

            .editor-expert-form .tight-direction-html-source-section label.checkbox {
                text-align: center;
                display: block;
            }

            .editor-expert-form .tight-direction-html-source-section button.btn,
            .editor-expert-form .tight-direction-html-source-section label.checkbox span {
                display: block;
                background-color: #414042;
                padding: 4px 5px 6px 5px;
                border-radius: 4px;
                font-size: 10px;
                color: white;
                line-height: 11px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                height: 30px;
                width: 50px;
                margin: 0px;
                cursor: pointer;
            }

            .editor-expert-form .tight-direction-html-source-section button.btn[disabled],
            .editor-expert-form .tight-direction-html-source-section label.checkbox input[disabled] + span {
                cursor: not-allowed;
                color: #C0C0C0;
            }

            .editor-expert-form .tight-direction-html-source-section label.checkbox input {
                display: none;
            }

            .editor-expert-form .tight-direction-html-source-section label.checkbox input:checked + span {
                background-color: #21b3cf;
            }

            .editor-expert-form .tight-direction-html-source-section label.checkbox input[checked] + span {
                background-color: #21b3cf;
            }

            .editor-expert-form .tight-direction-html-source-section button.btn {
            }

            .editor-expert-form .oversize-section {
                display: flex;
                flex-direction: row;
                margin-bottom: 5px;
            }

            .editor-expert-form .oversize-section input {
                width: 80px;
            }

            .editor-expert-form .align-section {
                width: 95px;
                height: 91px;
                margin: -1px;
            }

            .editor-expert-form .align-section .btn {
                width: 29px;
                height: 29px;
                float: left;
                margin: 1px;
                border-radius: 0px;
            }

            .editor-expert-form .align-section .btn.active {
                background-color: #21b3cf;
            }
        </style>

        <div class="editor-tabs">
            <button on-click="closeEditor">Close</button>
            <button class$="{{getTabButtonCss('normal', showMore)}}" on-click="toggleMore">Normal</button>
            <button class$="{{getTabButtonCss('expert', showMore)}}" on-click="toggleMore">Expert</button>
            <button on-click="toggleTree">Toggle sidebar</button>
        </div>
        <template is="dom-if" if="{{!showMore}}">
            <div class="editor-simple-form">
                <div class="editor-form-section save-section">
                    <button type="button" class="btn" on-click="saveSetup" disabled$="{{!hasChanges}}">Save</button>
                    <button type="button" class="btn" on-click="resetSetup">Reset</button>
                </div>
                <div class="editor-form-section media-section">
                    <template is="dom-repeat" items="{{mediaScreenRanges}}">
                        <button type="button" class$="{{getMediaButtonCss(mediaScreen, item)}}" item="{{item}}" on-click="selectMediaScreen" title="{{item.name}}">
                            <span>{{item.width}}</span><span>px</span>
                        </button>
                    </template>
                </div>
                <div class="editor-form-section width-section">
                    <label>{{getWidthString(selectedList, width, widthFlexible, widthDynamic)}}</label>
                    <div class="btn-group">
                        <template is="dom-repeat" items="{{widthRanges}}">
                            <button type="button" class$="{{getWidthButtonCss(widthItem, item)}}" item="{{item}}" on-click="selectWidth" disabled$="{{!selectedTiles.length}}">
                                <span>{{item.name}}</span>
                                <span>12</span>
                            </button>
                        </template>
                    </div>
                </div>
                <div class="editor-form-section position-section">
                    <button type="button" class="btn btn-up" on-click="moveUp" disabled$="{{!selectedTiles.length}}" title="Move selected tiles up"></button>
                    <button type="button" class="btn btn-down" on-click="moveDown" disabled$="{{!selectedTiles.length}}" title="Move selected tiles down"></button>
                </div>
                <div class="editor-form-section visible-section">
                    <template is="dom-if" if="{{!visible}}">
                        <button type="button" class="btn btn-hidden" on-click="selectVisible" data-value="1" disabled$="{{!selectedTiles.length}}" title="Show selected tiles"></button>
                    </template>
                    <template is="dom-if" if="{{visible}}">
                        <button type="button" class="btn btn-visible" on-click="selectVisible" data-value="0" disabled$="{{!selectedTiles.length}}" title="Hide selected tiles"></button>
                    </template>
                </div>
                <div class="editor-form-section align-section">
                    <button class="btn active"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                </div>
            </div>
        </template>

        <template is="dom-if" if="{{showMore}}">
            <div class="editor-expert-form">
                <div class="editor-form-section save-section">
                    <button type="button" class="btn" on-click="saveSetup" disabled$="{{!hasChanges}}">Save</button>
                    <button type="button" class="btn" on-click="revertSetup" disabled$="{{!hasChanges}}">Discard</button>
                    <button type="button" class="btn" on-click="resetSetup">Reset</button>
                </div>
                <div class="editor-form-section media-section">
                    <template is="dom-repeat" items="{{mediaScreenRanges}}">
                        <button type="button" class$="{{getMediaButtonCss(mediaScreen, item)}}" item="{{item}}" on-click="selectMediaScreen" title="{{item.name}}">
                            <span>{{item.width}}</span><span>px</span>
                        </button>
                    </template>
                </div>
                <div class="editor-form-section gutter-section">
                    <label>Gutter</label>
                    <div class="gutter-border"></div>
                    <div class="btn-group">
                        <input type="text" value="{{gutter::change}}" disabled$="{{!getIsGroupSelection(selectedTiles, selectedTiles.length)}}" />
                        <button class="btn-range" disabled$="{{!getIsGroupSelection(selectedTiles, selectedTiles.length)}}" on-click="gutterPlus">+</button>
                        <button class="btn-range" disabled$="{{!getIsGroupSelection(selectedTiles, selectedTiles.length)}}" on-click="gutterMinus">-</button>
                    </div>
                    <div class="gutter-border"></div>
                </div>
                <div class="editor-form-section">
                    <div class="width-section">
                        <label>{{getWidthString(selectedList, width, widthFlexible, widthDynamic)}}</label>
                        <div class="btn-group">
                            <template is="dom-repeat" items="{{widthRanges}}">
                                <button type="button" class$="{{getWidthButtonCss(widthItem, item)}}" item="{{item}}" on-click="selectWidth" disabled$="{{!selectedTiles.length}}">
                                    <span>{{item.name}}</span>
                                    <span>12</span>
                                </button>
                            </template>
                        </div>
                    </div>
                    <div class="position-section">
                        <button type="button" class="btn btn-up" on-click="moveUp" disabled$="{{!selectedTiles.length}}" title="Move selected tiles up"></button>
                        <button type="button" class="btn btn-down" on-click="moveDown" disabled$="{{!selectedTiles.length}}" title="Move selected tiles down"></button>
                    </div>
                    <div class="group-section">
                        <div class="btn-group">
                            <button type="button" class="btn btn-left" disabled$="{{!selectedTiles.length}}" on-click="packGroup" title="Box from selection">
                                Box
                            </button>
                            <juicy-popover handleSelector="button.btn" expandableSelector="div.popup">
                                <button type="button" class="btn btn-right">&nbsp;</button>
                                <div class="popup">
                                    <button on-click="packGroup" disabled$="{{!selectedTiles.length}}">Box from selection</button>
                                    <button on-click="packEmptyGroup">New empty box</button>
                                    <button on-click="packSeparatorGroup">New black line</button>
                                </div>
                            </juicy-popover>
                        </div>
                        <button type="button" class="btn" disabled$="{{!getIsGroupSelection(selectedTiles, selectedTiles.length)}}" on-click="unpackGroup">
                            Unbox
                        </button>
                    </div>
                    <div class="visible-section">
                        <template is="dom-if" if="{{!visible}}">
                            <button type="button" class="btn btn-hidden" on-click="selectVisible" data-value="1" disabled$="{{!selectedTiles.length}}" title="Show selected tiles"></button>
                        </template>
                        <template is="dom-if" if="{{visible}}">
                            <button type="button" class="btn btn-visible" on-click="selectVisible" data-value="0" disabled$="{{!selectedTiles.length}}" title="Hide selected tiles"></button>
                        </template>
                    </div>
                </div>
                <div class="editor-form-section">
                    <div class="dimension-section">
                        <label class="section-title">Width</label>
                        <div class="control-group">
                            <input type="text" value="{{width::change}}" disabled$="{{!selectedTiles.length}}" />
                            <button class="btn-range" disabled$="{{!selectedTiles.length}}" on-click="widthPlus">+</button>
                            <button class="btn-range" disabled$="{{!selectedTiles.length}}" on-click="widthMinus">-</button>
                            <label class="checkbox">
                                <input type="checkbox" checked="{{widthFlexible::change}}" disabled$="{{!selectedTiles.length}}" />
                                <span>grow<br />with parent</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" checked="{{widthDynamic::change}}" disabled$="{{!selectedTiles.length}}" />
                                <span>grow<br />with content</span>
                            </label>
                        </div>
                    </div>
                    <div class="dimension-section">
                        <label class="section-title">Height</label>
                        <div class="control-group">
                            <input type="text" value="{{height::change}}" disabled$="{{!selectedTiles.length}}" />
                            <button class="btn-range" disabled$="{{!selectedTiles.length}}" on-click="heightPlus">+</button>
                            <button class="btn-range" disabled$="{{!selectedTiles.length}}" on-click="heightMinus">-</button>
                            <label class="checkbox">
                                <input type="checkbox" checked="{{heightFlexible::change}}" disabled$="{{!selectedTiles.length}}" />
                                <span>grow<br />with parent</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" checked="{{heightDynamic::change}}" disabled$="{{!selectedTiles.length}}" />
                                <span>grow<br />with content</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="editor-form-section">
                    <div class="outline-section" style$="{{getOutlineStyle(outline)}}">
                        <juicy-popover handleSelector="button.btn" expandableSelector="div.popup">
                            <button type="button" class="btn" disabled$="{{!selectedTiles.length}}">Outline</button>
                            <div class="popup">
                                <juicy-border-picker border-value="{{outline}}"></juicy-border-picker>
                            </div>
                        </juicy-popover>
                        <div class="fill-section" style$="{{getBackgroundStyle(background)}}">
                            <juicy-popover handleSelector="button.btn" expandableSelector="div.popup">
                                <button type="button" class="btn" disabled$="{{!selectedTiles.length}}">Fill</button>
                                <div class="popup">
                                    <div class="oversize-section">
                                        <input type="text" value="{{oversize::input}}" placeholder="Oversize" />
                                        <button type="button" class="btn btn-range" on-click="oversizePlus">+</button>
                                        <button type="button" class="btn btn-range" on-click="oversizeMinus">-</button>
                                    </div>
                                    <juicy-color-picker pallete="flat" value="{{background::change}}"></juicy-color-picker>
                                </div>
                            </juicy-popover>
                        </div>
                    </div>
                </div>
                <div class="editor-form-section tight-direction-html-source-section">
                    <div class="tight-section">
                        <label class="checkbox">
                            <input type="checkbox" checked="{{tightGroup::change}}" disabled$="{{!getIsGroupSelection(selectedTiles, selectedTiles.length)}}" />
                            <span>Own<br />scope</span>
                        </label>
                    </div>
                    <div class="direction-section">
                        <juicy-popover handleSelector="button.btn" expandableSelector="div.popup">
                            <button type="button" class="btn" disabled$="{{!getIsGroupSelection(selectedTiles, selectedTiles.length)}}">
                                Direction
                            </button>
                            <div class="popup">
                                <div class="radio-group">
                                    <div class="radio-group-caption">Elements flow</div>
                                    <label class="radio">
                                        <input type="radio" name="direction" checked$="{{getIsChecked(direction, 'horizontal')}}" value="horizontal" on-change="selectDirection" />
                                        <span>Horizontal</span>
                                    </label>
                                    <label class="radio">
                                        <input type="radio" name="direction" checked$="{{getIsChecked(direction, 'vertical')}}" value="vertical" on-change="selectDirection" />
                                        <span>Vertical</span>
                                    </label>
                                </div>
                                <div class="radio-group">
                                    <div class="radio-group-caption">From</div>
                                    <label class="radio">
                                        <input type="radio" name="left-right" checked$="{{!rightToLeft}}" value="0" on-change="selectRightToLeft" />
                                        <span>Left to right</span>
                                    </label>
                                    <label class="radio">
                                        <input type="radio" name="left-right" checked$="{{rightToLeft}}" value="1" on-change="selectRightToLeft" />
                                        <span>Right to left</span>
                                    </label>
                                    <label class="radio">
                                        <input type="radio" name="top-bottom" checked$="{{!bottomUp}}" value="0" on-change="selectBottomUp" />
                                        <span>Top to bottom</span>
                                    </label>
                                    <label class="radio">
                                        <input type="radio" name="top-bottom" checked$="{{bottomUp}}" value="1" on-change="selectBottomUp" />
                                        <span>Bottom to top</span>
                                    </label>
                                </div>
                            </div>
                        </juicy-popover>
                    </div>
                    <div class="html-section">
                        <juicy-popover handleSelector="button.btn" expandableSelector="div.popup">
                            <button type="button" class="btn" disabled$="{{!getIsGroupSelection(selectedTiles, selectedTiles.length)}}">Html</button>
                            <div class="popup">
                                <textarea value="{{content::change}}"></textarea>
                            </div>
                        </juicy-popover>
                    </div>
                    <div class="source-section">
                        <div class="editor-form-section">
                            <juicy-popover handleSelector="button.btn" expandableSelector="div.popup">
                                <button type="button" class="btn" on-click="readSource">Source</button>
                                <div class="popup">
                                    <textarea value="{{source::change}}" on-change="writeSource"></textarea>
                                </div>
                            </juicy-popover>
                        </div>
                    </div>
                </div>
                <div class="editor-form-section align-section">
                    <button class="btn active"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                    <button class="btn"></button>
                </div>
            </div>
        </template>

        <template is="dom-if" if="{{showTree}}">
            <div class="editor-tree">
                <template is="dom-repeat" items="{{selectedScopeItems}}">
                    <div class$="{{getTreeItemCss(selectedTiles.length, item)}}" on-click="selectTreeItem" item="{{item}}">
                        <template is="dom-if" if="{{item.hidden}}">
                            <a href="javascript:" class="hidden-icon" title="Show element" on-click="showTreeItem" item="{{item}}"></a>
                        </template>
                        <span>{{getSetupName(item)}}</span>
                        <template is="dom-if" if="{{getIsScopable(item)}}">
                            <a href="javascript:" on-click="selectScopeItem" item="{{item}}">...</a>
                        </template>
                    </div>
                </template>
            </div>
        </template>

        <template is="dom-if" if="{{breadcrumb.length}}">
            <div class="editor-breadcrumb">
                <template is="dom-repeat" items="{{breadcrumb}}">
                    <a href="javascript:" on-click="selectCrumbItem" item="{{item}}">
                        <span>&gt;</span>
                        <span>{{getCrumbName(item)}}</span>
                    </a>
                </template>
            </div>
        </template>

        <juicy-highlight id="highlightTileRollover" strokewidth="1" strokecolor="#1E90FF" strokeoffset="2" fill="rgba(0, 191, 255, 0.2)"></juicy-highlight>
        <juicy-highlight id="highlightTileSelected" strokewidth="2" strokecolor="#1E90FF" strokeoffset="2"></juicy-highlight>
        <juicy-highlight id="highlightScopeSelected" strokewidth="1" strokecolor="#C0C0C0" strokeoffset="2" overlay></juicy-highlight>

        <iron-localstorage name="juicy-tile-editor#showMore" value="{{showMore}}"></iron-localstorage>
        <iron-localstorage name="juicy-tile-editor#showTree" value="{{showTree}}" on-iron-localstorage-load-empty="initShowTree"></iron-localstorage>
    </template>
    <script src="juicy-tile-simple-editor.js"></script>
</dom-module>