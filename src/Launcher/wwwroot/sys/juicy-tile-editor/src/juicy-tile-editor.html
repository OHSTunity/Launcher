<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../juicy-highlight/src/juicy-highlight.html">
<link rel="import" href="juicy-tile-editor-form.html">
<link rel="import" href="juicy-tile-tree.html">

<polymer-element name="juicy-tile-editor" attributes="selectionMode">
  <template>
    <style>
        .sidebar {
            position: fixed;
            top: 65px;
            left: 5px;
            width: 220px;
            height: calc(100% - 70px);
            background: white;
            border: 1px solid black;
            opacity: 0.85;
            overflow: auto;
            padding:0px 5px;
        }

        :host.max-height .sidebar {
            top: 35px;
        }

        .sidebar.right {
            left:initial;
            right:5px;
        }

        .sidebar /deep/ #menu {
            margin-left: 10px;
        }

        .sidebar h1 {
            margin: 5px 0px 0px 0px;
            font-size: 20px;
        }

        .sidebar h1 .actions {
            float:right;
            margin: -4px 4px 0px 0px;
        }

        .sidebar h1 .actions a {
            text-decoration:none;
            color:#7f899c;
        }

        .sidebar h1 .actions a:hover {
            color:#333333;
        }
    </style>

    <juicy-tile-editor-form id="form"
      selectedItems="{{selectedItems}}" 
      editedTiles="{{editedTiles}}"
      on-juicy-tile-editor-revert="{{revertAction}}"
      on-juicy-tile-editor-form-tree-changed="{{treeChangedAction}}"></juicy-tile-editor-form>

    <div class="sidebar" id="sidebar">
      <h1>
          <span class="actions">
              <a href="javascript:" title="Move to other side" on-click="{{moveToOtherSide}}">⇔</a>
          </span>
         Elements
      </h1>
      <juicy-tile-tree id="treeView" tree="{{ tree }}"
        on-juicy-tile-tree-highlight="{{treeHighlightAction}}"
        on-juicy-tile-tree-highlight-extend="{{treeHighlightExtendAction}}"
        on-juicy-tile-tree-highlight-remove="{{treeHighlightRemoveAction}}"
        on-juicy-tile-tree-refresh-tile-list="{{refreshTileList}}"></juicy-tile-tree>
    </div>

    <juicy-highlight id="tileEdited" overlay strokeWidth="3" strokeColor="#33579F" strokeOffset="3"></juicy-highlight>
    <juicy-highlight id="tileRollover" strokeWidth="1" strokeColor="#222222" strokeOffset="4"></juicy-highlight>
    <juicy-highlight id="tileSelected" strokeWidth="1" strokeColor="#33579F" strokeOffset="3"></juicy-highlight>
  </template>
  <script src="juicy-tile-editor.js"></script>
</polymer-element>
